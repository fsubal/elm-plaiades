<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>nanaco 13</title>
</head>
<body>
  <!-- <canvas> will be here -->
  <script src="js/aframe.min.js"></script>
  <script src="js/react.min.js"></script>
  <script src="js/react-dom.min.js"></script>
  <script src="js/app.js"></script>
  <script>
  "use strict";

  var render = function(state) {
    var now = [
      Math.floor(state.now.sec / 10),
      Math.floor(state.now.sec % 10)
    ];

    ReactDOM.render(
    	React.createElement('a-scene', {}, [
      	React.createElement('a-camera', {
         	position: "0 1.8 4",
          cursor: `
            fuse       : true;
            maxDistance: 30;
            timeout    : 500
          `,
        }, []),
        React.createElement('a-sky', {
         	src     : "img/space02.jpg",
          rotation: "90 0 -40",
        }, []),
        React.createElement('a-image', {
        	src     : "img/space03.png",
        	position: "-0.4 2 -15",
        	rotation: "0 0 0",
          opacity : 0.75,
        }, [
          React.createElement('a-animation', {
            attribute: "rotation",
            from     : "0 0 0 ",
            to       : "0 0 359",
            repeat   : "indefinite",
            dur      : "600000",
            easing   : "linear",
          }, []),
        ]),
        React.createElement('a-image', {
        	src     : "img/board.png",
        	position: "0 1.5 3.4",
        	rotation: "-15 0 0",
          width   : 0.8,
          height  : 0.45,
          opacity : 0.9,
          sound   : `
            src     : ./raw/drive.wav;
            autoplay: true;
            loop    : true;
            volume  : 2;
          `,
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "0 1.5 3.4",
            to       : "0 1.508 3.4",
            repeat   : "indefinite",
            dur      : "600",
            direction: "alternateReverse",
            easing   : "linear",
          }, []),
        ]),
        React.createElement('a-image', {
          src     : `img/num0${now[0]}.png`,
          width   : 0.0375,
          height  : 0.0600,
          position: "-0.128 1.6 3.4",
          rotation: "-10 0 0",
          sound   : `
            src     : ./raw/paper.mp3;
            autoplay: true;
            loop    : true;
            volume  : 1;
          `,
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "-0.128 1.6 3.4",
            to       : "-0.128 1.608 3.4",
            repeat   : "indefinite",
            dur      : "600",
            direction: "alternateReverse",
            easing   : "linear",
          }, []),
        ]),
        React.createElement('a-image', {
          src     : `img/num0${now[1]}.png`,
          width   : 0.0375,
          height  : 0.0600,
          position: "-0.09 1.6 3.4",
          rotation: "-10 0 0",
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "-0.09 1.6 3.4",
            to       : "-0.09 1.608 3.4",
            repeat   : "indefinite",
            dur      : "600",
            direction: "alternateReverse",
            easing   : "linear",
          }, []),
        ]),
        React.createElement('a-sphere', {
        	color   : "#dfc",
          radius  : 0.2,
        	rotation: "0 0 0",
          opacity : 0.75,
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "-40 -12 -500",
            to       : "-40 -12 500",
            repeat   : "indefinite",
            dur      : "5000",
            easing   : "linear",
          }, []),
        ]),
        React.createElement('a-sphere', {
        	color   : "#dfc",
          radius  : 0.2,
        	rotation: "0 0 0",
          opacity : 0.75,
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "-40 -12 -500",
            to       : "-40 -12 500",
            repeat   : "indefinite",
            dur      : "2000",
            easing   : "linear",
          }, []),
        ]),
        React.createElement('a-sphere', {
        	color   : "#dfc",
          radius  : 0.2,
        	rotation: "0 0 0",
          opacity : 0.75,
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "40 12 -300",
            to       : "40 12 400",
            repeat   : "indefinite",
            dur      : "2000",
            easing   : "linear",
          }, []),
        ]),
        React.createElement('a-sphere', {
        	color   : "#dfc",
          radius  : 0.2,
        	rotation: "0 0 0",
          opacity : 0.75,
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "-30 4 -500",
            to       : "-30 4 300",
            repeat   : "indefinite",
            dur      : "3000",
            easing   : "linear",
          }, []),
        ]),
        React.createElement('a-sphere', {
        	color   : "#fdc",
          radius  : 0.2,
        	rotation: "0 0 0",
          opacity : 0.75,
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "11 -5 -200",
            to       : "11 -5 500",
            repeat   : "indefinite",
            dur      : "5000",
            easing   : "ease",
          }, []),
        ]),
        React.createElement('a-sphere', {
        	color   : "#ffc",
          radius  : 0.2,
        	rotation: "0 0 0",
          opacity : 0.75,
        }, [
          React.createElement('a-animation', {
            attribute: "position",
            from     : "-3 50 -200",
            to       : "-3 50 500",
            repeat   : "indefinite",
            dur      : "2500",
            easing   : "ease",
          }, []),
        ]),
      ]),
      document.body
    );
  };

  var accumulator = function(n) {
    var i = n;
    return function() {
      return i++ % 100;
    }
  }

  var acc = accumulator(0);
  var sec = setInterval(function() {
    render({
      now: { sec: acc() }
    });
  }, 200);


  function preload() {
      var images = [];
      for (var i = 0; i < 10; i++) {
          console.log(`img/num0${i}.png`);
          images[i] = new Image();
          images[i].src = `img/num0${i}.png`;
      }
  }
  preload();

  </script>
</body>
</html>
